(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{xgrl:function(e,t,i){"use strict";i.r(t),i.d(t,"BibleModule",(function(){return F}));var n=i("ofXK"),o=i("tyNb"),s=i("fXoL");let a=(()=>{class e{constructor(){}save(e){e.expirationMins=e.expirationMins||0;const t=0!==e.expirationMins?60*e.expirationMins*1e3:0,i={value:"string"==typeof e.data?e.data:JSON.stringify(e.data),expiration:0!==t?(new Date).getTime()+t:null,hasExpiration:0!==t};localStorage.setItem(e.key,JSON.stringify(i))}load(e){const t=localStorage.getItem(e);if(null!==t){const e=JSON.parse(t),i=(new Date).getTime();return!e||e.hasExpiration&&e.expiration<=i?null:JSON.parse(e.value)}return null}remove(e){localStorage.removeItem(e)}cleanLocalStorage(){localStorage.clear()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),r=(()=>{class e{constructor(e){this.cacheService=e,this.dataBibleVerse=new s.n,this.data=[],this.data=e.load("bible-recent")}save(e){this.cacheService.save({key:"bible-recent",data:this.data,expirationMins:1440}),this.dataBibleVerse.emit(this.data),console.log(this.data)}}return e.\u0275fac=function(t){return new(t||e)(s.Sb(a))},e.\u0275prov=s.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var c=i("LRne"),l=i("eIep"),u=i("tk/3");let b=(()=>{class e{constructor(e,t){this.http=e,this._cacheService=t}get(e){return this.httpCall(h.GET,e)}delete(e){return this.httpCall(h.DELETE,e)}post(e){return this.httpCall(h.POST,e)}put(e){return this.httpCall(h.PUT,e)}httpCall(e,t){if(t.body=t.body||null,t.cacheMins=t.cacheMins||0,t.cacheMins>0){const e=this._cacheService.load(t.url);if(null!==e)return Object(c.a)(e)}return this.http.request(e,t.url,{body:t.body}).pipe(Object(l.a)(e=>(t.cacheMins>0&&this._cacheService.save({key:t.url,data:e,expirationMins:t.cacheMins}),Object(c.a)(e))))}}return e.\u0275fac=function(t){return new(t||e)(s.Sb(u.a),s.Sb(a))},e.\u0275prov=s.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var h=function(e){return e.GET="GET",e.PUT="PUT",e.POST="POST",e.DELETE="DELETE",e}({});let d=(()=>{class e{constructor(e){this._http=e}getBible(){return this._http.get({url:"assets/bible/telugu/bible.json",cacheMins:0})}}return e.\u0275fac=function(t){return new(t||e)(s.Sb(b))},e.\u0275prov=s.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function p(e,t){if(1&e){const e=s.Pb();s.Ob(0,"button",5),s.Vb("click",(function(){s.nc(e);const i=t.index,n=s.Xb(2);return n.onVerse(n.form,i)})),s.Ob(1,"b"),s.wc(2),s.Nb(),s.wc(3),s.Nb()}if(2&e){const e=t.$implicit,i=t.index;s.xb(2),s.yc("",i+1," : "),s.xb(1),s.yc("",e.Verse," ")}}function f(e,t){if(1&e&&(s.Ob(0,"div",1),s.Ob(1,"div",2),s.Ob(2,"button",3),s.wc(3),s.Nb(),s.uc(4,p,4,2,"button",4),s.Nb(),s.Nb()),2&e){const e=s.Xb();s.xb(3),s.zc(" ",e.books[e.bibleBook-1]," : ",e.bibleChapters," "),s.xb(1),s.cc("ngForOf",e.resData.Verse)}}let m=(()=>{class e{constructor(e,t,i){this.bibleService=e,this.route=t,this.recent=i,this.bibleChapters=0,this.bibleBook=0,this.bibleVerse=[],this.books=["Genesis","Exodus","Leviticus","Numbers","Deuteronomy","Joshua","Judges","Ruth","1 Samuel","2 Samuel","1 Kings","2 Kings","1 Chronicles","2 Chronicles","Ezra","Nehemiah","Esther","Job","Psalm","Proverbs","Ecclesiastes","Song of Solomon","Isaiah","Jeremiah","Lamentations","Ezekiel","Daniel","Hosea","Joel","Amos","Obadiah","Jonah","Micah","Nahum","Habakkuk","Zephaniah","Haggai","Zechariah","Malachi","Matthew","Mark","Luke","John","Acts","Romans","1 Corinthians","2 Corinthians","Galatians","Ephesians","Philippians","Colossians","1 Thessalonians","2 Thessalonians","1 Timothy","2 Timothy","Titus","Philemon","Hebrews","James","1 Peter","2 Peter","1 John","2 John","3 John","Jude","Revelation"],this.route.params.subscribe(e=>{this.bibleBook=e.book,this.bibleChapters=e.chapter})}ngOnInit(){this.bibleService.getBible().subscribe(e=>{this.resData=e.Book[this.bibleBook-1].Chapter[this.bibleChapters-1]}),this.recent.save({Book:this.bibleBook-1,Chapter:this.bibleChapters-1,Verse:0})}addNew(){}}return e.\u0275fac=function(t){return new(t||e)(s.Jb(d),s.Jb(o.a),s.Jb(r))},e.\u0275cmp=s.Db({type:e,selectors:[["app-bible-book-chapter"]],decls:1,vars:1,consts:[["class","",4,"ngIf"],[1,""],[1,"list-group"],["type","button",1,"list-group-item","list-group-item-action","active"],["type","button","class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],["type","button",1,"list-group-item","list-group-item-action",3,"click"]],template:function(e,t){1&e&&s.uc(0,f,5,3,"div",0),2&e&&s.cc("ngIf",t.resData)},directives:[n.l,n.k],styles:[""]}),e})(),g=(()=>{class e{constructor(e,t){this.bibleService=e,this.route=t,this.bibleBook=0,this.route.params.subscribe(e=>{this.bibleBook=e.book})}ngOnInit(){this.bibleService.getBible().subscribe(e=>{this.resData=e.Book[this.bibleBook]})}}return e.\u0275fac=function(t){return new(t||e)(s.Jb(d),s.Jb(o.a))},e.\u0275cmp=s.Db({type:e,selectors:[["app-bible-book"]],decls:4,vars:3,consts:[[1,""],[1,"alert","alert-primary",2,"font-family","Verdana, Geneva, Tahoma, sans-serif","font-size","large"]],template:function(e,t){1&e&&(s.Ob(0,"div",0),s.Ob(1,"div",1),s.wc(2),s.Yb(3,"json"),s.Nb(),s.Nb()),2&e&&(s.xb(2),s.yc(" ",s.Zb(3,1,t.resData)," "))},pipes:[n.f],styles:[""]}),e})();var v=i("2Vo4");let y=(()=>{class e{constructor(){this._puppiesSource=new v.a([]),this.puppies$=this._puppiesSource.asObservable()}getPuppies(){return this._puppiesSource.getValue()}_setPuppies(e){this._puppiesSource.next(e)}addPuppy(e){const t=[...this.getPuppies(),e];this._setPuppies(t)}removePuppy(e){}adoptPuppy(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var k=i("1liP"),w=i("HDdC");let S=(()=>{class e{constructor(){this.data=[],this.permission=this.isSupported()?"default":"denied"}isSupported(){return"Notification"in window}sendPushNotification(e,t){this.data=[],this.data.push({title:e,alertContent:t}),this.generateNotification(this.data)}requestPermission(){let e=this;"Notification"in window&&Notification.requestPermission((function(t){return e.permission=t}))}create(e,t){let i=this;return new w.a((function(n){"Notification"in window||(console.log("Notifications are not available in this environment"),n.complete()),"granted"!==i.permission&&(console.log("The user hasn't granted you permission to send push notifications"),n.complete());let o=new Notification(e,t);o.onshow=function(e){return n.next({notification:o,event:e})},o.onclick=function(e){return n.next({notification:o,event:e})},o.onerror=function(e){return n.error({notification:o,event:e})},o.onclose=function(){return n.complete()}}))}generateNotification(e){let t=this;e.forEach(e=>{t.create(e.title,{body:e.alertContent}).subscribe()})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),O=(()=>{class e{constructor(){this.timeElapsed=new v.a("00:00"),this.timeRemaining=new v.a("-00:00"),this.percentElapsed=new v.a(0),this.percentLoaded=new v.a(0),this.playerStatus=new v.a("paused"),this.calculateTime=e=>{let t=this.audio.currentTime,i=this.audio.duration;this.setTimeElapsed(t),this.setPercentElapsed(i,t),this.setTimeRemaining(i,t)},this.calculatePercentLoaded=e=>{if(this.audio.duration>0)for(var t=0;t<this.audio.buffered.length;t++)if(this.audio.buffered.start(this.audio.buffered.length-1-t)<this.audio.currentTime){let e=this.audio.buffered.end(this.audio.buffered.length-1-t)/this.audio.duration*100;this.setPercentLoaded(e);break}},this.setPlayerStatus=e=>{switch(e.type){case"playing":this.playerStatus.next("playing");break;case"pause":this.playerStatus.next("paused");break;case"waiting":this.playerStatus.next("loading");break;case"ended":this.playerStatus.next("ended");break;default:this.playerStatus.next("paused")}},this.audio=new Audio,this.attachListeners()}attachListeners(){this.audio.addEventListener("timeupdate",this.calculateTime,!1),this.audio.addEventListener("playing",this.setPlayerStatus,!1),this.audio.addEventListener("pause",this.setPlayerStatus,!1),this.audio.addEventListener("progress",this.calculatePercentLoaded,!1),this.audio.addEventListener("waiting",this.setPlayerStatus,!1),this.audio.addEventListener("ended",this.setPlayerStatus,!1)}getAudio(){return this.audio}setAudio(e){this.audio.src=e,this.playAudio()}playAudio(){this.audio.play()}pauseAudio(){this.audio.pause()}seekAudio(e){this.audio.currentTime=e}setTimeElapsed(e){let t=Math.floor(e%60),i=t<10?"0"+t:t,n=Math.floor(e/60%60);this.timeElapsed.next((n<10?"0"+n:n)+":"+i)}setTimeRemaining(e,t){let i,n=e-t,o=Math.floor(n%60)||0,s=o<10?"0"+o:o,a=Math.floor(n/60%60)||0,r=a<10?"0"+a:a,c=Math.floor(n/60/60%60)||0;i=0===c?"-"+r+":"+s:"-"+c+":"+r+":"+s,this.timeRemaining.next(i)}setPercentElapsed(e,t){this.percentElapsed.next(Math.floor(100/e*t)||0)}setPercentLoaded(e){this.percentLoaded.next(parseInt(e,10)||0)}getPercentLoaded(){return this.percentLoaded.asObservable()}getPercentElapsed(){return this.percentElapsed.asObservable()}getTimeElapsed(){return this.timeElapsed.asObservable()}getTimeRemaining(){return this.timeRemaining.asObservable()}getPlayerStatus(){return this.playerStatus.asObservable()}toggleAudio(){this.audio.paused?this.audio.play():this.audio.pause()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var N=i("K3ix"),E=i("wHSu"),x=i("3Pt+");const P=["form"];function C(e,t){if(1&e&&(s.Ob(0,"option",14),s.wc(1),s.Nb()),2&e){const e=t.$implicit;s.dc("value",t.index),s.xb(1),s.yc(" ",e," ")}}function M(e,t){if(1&e){const e=s.Pb();s.Ob(0,"button",20),s.Vb("click",(function(){s.nc(e);const i=t.index,n=s.Xb(2),o=s.lc(1);return n.onVerse(o,i)})),s.Ob(1,"b"),s.wc(2),s.Nb(),s.wc(3),s.Nb()}if(2&e){const e=t.$implicit,i=t.index;s.xb(2),s.yc("",i+1," : "),s.xb(1),s.yc("",e.Verse," ")}}function L(e,t){if(1&e&&(s.Ob(0,"div",15),s.Ob(1,"div",16),s.Ob(2,"button",17),s.Kb(3,"i",18),s.wc(4),s.Nb(),s.uc(5,M,4,2,"button",19),s.Nb(),s.Nb()),2&e){const e=s.Xb();s.xb(4),s.zc(" ",e.books[e.book-1]," : ",e.chapter," "),s.xb(1),s.cc("ngForOf",e.resData.Verse)}}function J(e,t){if(1&e&&(s.Ob(0,"div",35),s.wc(1),s.Nb()),2&e){const e=s.Xb(2);s.xb(1),s.yc(" ",e.newListEditor.error," ")}}function T(e,t){if(1&e&&(s.Ob(0,"div"),s.Ob(1,"pre"),s.wc(2),s.Yb(3,"json"),s.Nb(),s.Nb()),2&e){const e=s.Xb(2);s.xb(2),s.xc(s.Zb(3,1,e.newListEditor))}}const I=function(e){return{"is-invalid":e}};function B(e,t){if(1&e){const e=s.Pb();s.Ob(0,"div",21),s.Ob(1,"h4",22),s.wc(2,"New List"),s.Nb(),s.Ob(3,"button",23),s.Vb("click",(function(){return s.nc(e),s.Xb().newListCancelled()})),s.Ob(4,"span",24),s.wc(5,"\xd7"),s.Nb(),s.Nb(),s.Nb(),s.Ob(6,"div",25),s.Ob(7,"div",26),s.Ob(8,"label",27),s.wc(9,"Title"),s.Nb(),s.Ob(10,"input",28),s.Vb("ngModelChange",(function(t){return s.nc(e),s.Xb().newListEditor.title=t}))("keyup.enter",(function(){return s.nc(e),s.Xb().addList()})),s.Nb(),s.uc(11,J,2,1,"div",29),s.Nb(),s.uc(12,T,4,3,"div",30),s.Nb(),s.Ob(13,"div",31),s.Ob(14,"div",32),s.Ob(15,"button",33),s.Vb("click",(function(){return s.nc(e),s.Xb().newListCancelled()})),s.wc(16,"Cancel"),s.Nb(),s.Ob(17,"button",34),s.Vb("click",(function(){return s.nc(e),s.Xb().addList()})),s.wc(18,"Create"),s.Nb(),s.Nb(),s.Nb()}if(2&e){const e=s.Xb();s.xb(10),s.cc("ngModel",e.newListEditor.title)("ngClass",s.fc(4,I,e.newListEditor.error)),s.xb(1),s.cc("ngIf",e.newListEditor.error),s.xb(1),s.cc("ngIf",e.debug)}}const V=[{path:"",component:(()=>{class e{constructor(e,t,i,n,o,s){this.bibleService=e,this.bibleStoreService=t,this.notificationService=i,this.pushNotificationsService=n,this.audioService=o,this.modalService=s,this.faBookOpen=E.a,this.book=0,this.chapter=0,this.verses=0,this.books=["Genesis","Exodus","Leviticus","Numbers","Deuteronomy","Joshua","Judges","Ruth","1 Samuel","2 Samuel","1 Kings","2 Kings","1 Chronicles","2 Chronicles","Ezra","Nehemiah","Esther","Job","Psalm","Proverbs","Ecclesiastes","Song of Solomon","Isaiah","Jeremiah","Lamentations","Ezekiel","Daniel","Hosea","Joel","Amos","Obadiah","Jonah","Micah","Nahum","Habakkuk","Zephaniah","Haggai","Zechariah","Malachi","Matthew","Mark","Luke","John","Acts","Romans","1 Corinthians","2 Corinthians","Galatians","Ephesians","Philippians","Colossians","1 Thessalonians","2 Thessalonians","1 Timothy","2 Timothy","Titus","Philemon","Hebrews","James","1 Peter","2 Peter","1 John","2 John","3 John","Jude","Revelation"],this.pushNotificationsService.requestPermission()}ngOnInit(){this.audioService.playerStatus.subscribe(e=>{this.playerStatus=e}),this.bibleService.getBible().subscribe(e=>{this.data=e,this.onChangeEvent(this.form)})}randomIntFromInterval(e,t){return Math.floor(Math.random()*(t-e+1)+e)}onSubmit(e){this.onChangeEvent(e)}onChangeEvent(e){var t;this.bibleStoreService.addPuppy(e.value),this.book=+e.value.Book+1,this.chapter=e.value.Chapter,this.audioService.setAudio(`http://sajeevavahini.com/audiobible/${this.book}/${this.chapter}.mp3`),this.resData=null===(t=this.data.Book[e.value.Book])||void 0===t?void 0:t.Chapter[e.value.Chapter-1]}onPlayer(){this.audioService.toggleAudio()}onVerse(e,t){console.log(e.value,t)}showNewListModal(e){this.newListModalRef=this.modalService.show(e),setTimeout(()=>document.getElementById("title").focus(),250)}}return e.\u0275fac=function(t){return new(t||e)(s.Jb(d),s.Jb(y),s.Jb(k.a),s.Jb(S),s.Jb(O),s.Jb(N.a))},e.\u0275cmp=s.Db({type:e,selectors:[["app-bible"]],viewQuery:function(e,t){var i;1&e&&s.Bc(P,!0),2&e&&s.kc(i=s.Wb())&&(t.form=i.first)},decls:21,vars:7,consts:[[3,"ngSubmit"],["form","ngForm"],[1,"row"],[1,"col"],["name","Book","ngModel","",1,"form-control",3,"ngModel","change"],["Book","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","number","placeholder","Chapter","name","Chapter","min","1","max","66","ngModel","",1,"form-control",3,"ngModel","change"],["Chapter","ngModel"],[1,"col-12"],[1,"btn","btn-outline-primary","btn-block",3,"click"],[1,"fa","fa-play"],["class","",4,"ngIf"],["newListModalTemplate",""],[3,"value"],[1,""],[1,"list-group"],["type","button","popover","I will hide on blur","triggers","mouseenter:mouseleave",1,"list-group-item","list-group-item-action","active"],[1,"fa","fa-book"],["type","button","class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],["type","button",1,"list-group-item","list-group-item-action",3,"click"],[1,"modal-header","clearfix"],[1,"modal-title","float-left"],["type","button","aria-label","Close",1,"close","float-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],["for","title"],["type","text","id","title","placeholder","List title...",1,"form-control",3,"ngModel","ngClass","ngModelChange","keyup.enter"],["class","invalid-feedback",4,"ngIf"],[4,"ngIf"],[1,"modal-footer"],[1,"text-right"],[1,"btn","btn-default",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"invalid-feedback"]],template:function(e,t){if(1&e){const e=s.Pb();s.Ob(0,"form",0,1),s.Vb("ngSubmit",(function(){s.nc(e);const i=s.lc(1);return t.onSubmit(i)})),s.Ob(2,"div",2),s.Ob(3,"div",3),s.Ob(4,"select",4,5),s.Vb("change",(function(){s.nc(e);const i=s.lc(1);return t.onChangeEvent(i)})),s.uc(6,C,2,2,"option",6),s.Nb(),s.Nb(),s.Ob(7,"div",3),s.Ob(8,"input",7,8),s.Vb("change",(function(){s.nc(e);const i=s.lc(1);return t.onChangeEvent(i)})),s.Nb(),s.Nb(),s.Nb(),s.Kb(10,"br"),s.Nb(),s.Ob(11,"div",2),s.Ob(12,"div",9),s.Ob(13,"button",10),s.Vb("click",(function(){return t.onPlayer()})),s.Kb(14,"i",11),s.wc(15),s.Nb(),s.Nb(),s.Nb(),s.Kb(16,"br"),s.uc(17,L,6,3,"div",12),s.Kb(18,"br"),s.uc(19,B,19,6,"ng-template",null,13,s.vc)}2&e&&(s.xb(4),s.cc("ngModel",0),s.xb(2),s.cc("ngForOf",t.books),s.xb(2),s.cc("ngModel",1),s.xb(7),s.Ac(" ",t.playerStatus," ",t.books[t.book-1]," : ",t.chapter,""),s.xb(2),s.cc("ngIf",t.resData))},directives:[x.o,x.h,x.i,x.m,x.g,x.j,n.k,x.l,x.b,n.l,x.k,x.n,n.j],pipes:[n.f],styles:[""]}),e})()},{path:":book",component:g},{path:":book/:chapter",component:m}];let D=(()=>{class e{}return e.\u0275mod=s.Hb({type:e}),e.\u0275inj=s.Gb({factory:function(t){return new(t||e)},imports:[[o.e.forChild(V)],o.e]}),e})(),F=(()=>{class e{}return e.\u0275mod=s.Hb({type:e}),e.\u0275inj=s.Gb({factory:function(t){return new(t||e)},imports:[[n.c,x.c,D]]}),e})()}}]);