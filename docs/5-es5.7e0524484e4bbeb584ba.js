!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,i){if(!e)return;if("string"==typeof e)return t(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,i)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{xgrl:function(t,n,a){"use strict";a.r(n),a.d(n,"BibleModule",(function(){return Q}));var r,s,u,c,l=a("ofXK"),b=a("tyNb"),h=a("fXoL"),f=((s=function(){function e(){i(this,e)}return o(e,[{key:"save",value:function(e){e.expirationMins=e.expirationMins||0;var t=0!==e.expirationMins?60*e.expirationMins*1e3:0,i={value:"string"==typeof e.data?e.data:JSON.stringify(e.data),expiration:0!==t?(new Date).getTime()+t:null,hasExpiration:0!==t};localStorage.setItem(e.key,JSON.stringify(i))}},{key:"load",value:function(e){var t=localStorage.getItem(e);if(null!==t){var i=JSON.parse(t),n=(new Date).getTime();return!i||i.hasExpiration&&i.expiration<=n?null:JSON.parse(i.value)}return null}},{key:"remove",value:function(e){localStorage.removeItem(e)}},{key:"cleanLocalStorage",value:function(){localStorage.clear()}}]),e}()).\u0275fac=function(e){return new(e||s)},s.\u0275prov=h.Fb({token:s,factory:s.\u0275fac,providedIn:"root"}),s),d=((r=function(){function e(t){i(this,e),this.cacheService=t,this.dataBibleVerse=new h.n,this.data=[],this.data=t.load("bible-recent")}return o(e,[{key:"save",value:function(e){this.cacheService.save({key:"bible-recent",data:this.data,expirationMins:1440}),this.dataBibleVerse.emit(this.data),console.log(this.data)}}]),e}()).\u0275fac=function(e){return new(e||r)(h.Sb(f))},r.\u0275prov=h.Fb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),p=a("LRne"),v=a("eIep"),m=a("tk/3"),y=((u=function(){function e(t,n){i(this,e),this.http=t,this._cacheService=n}return o(e,[{key:"get",value:function(e){return this.httpCall(g.GET,e)}},{key:"delete",value:function(e){return this.httpCall(g.DELETE,e)}},{key:"post",value:function(e){return this.httpCall(g.POST,e)}},{key:"put",value:function(e){return this.httpCall(g.PUT,e)}},{key:"httpCall",value:function(e,t){var i=this;if(t.body=t.body||null,t.cacheMins=t.cacheMins||0,t.cacheMins>0){var n=this._cacheService.load(t.url);if(null!==n)return Object(p.a)(n)}return this.http.request(e,t.url,{body:t.body}).pipe(Object(v.a)((function(e){return t.cacheMins>0&&i._cacheService.save({key:t.url,data:e,expirationMins:t.cacheMins}),Object(p.a)(e)})))}}]),e}()).\u0275fac=function(e){return new(e||u)(h.Sb(m.a),h.Sb(f))},u.\u0275prov=h.Fb({token:u,factory:u.\u0275fac,providedIn:"root"}),u),g=function(e){return e.GET="GET",e.PUT="PUT",e.POST="POST",e.DELETE="DELETE",e}({}),k=((c=function(){function e(t){i(this,e),this._http=t}return o(e,[{key:"getBible",value:function(){return this._http.get({url:"assets/bible/telugu/bible.json",cacheMins:0})}}]),e}()).\u0275fac=function(e){return new(e||c)(h.Sb(y))},c.\u0275prov=h.Fb({token:c,factory:c.\u0275fac,providedIn:"root"}),c);function w(e,t){if(1&e){var i=h.Pb();h.Ob(0,"button",5),h.Vb("click",(function(){h.nc(i);var e=t.index,n=h.Xb(2);return n.onVerse(n.form,e)})),h.Ob(1,"b"),h.wc(2),h.Nb(),h.wc(3),h.Nb()}if(2&e){var n=t.$implicit,o=t.index;h.xb(2),h.yc("",o+1," : "),h.xb(1),h.yc("",n.Verse," ")}}function S(e,t){if(1&e&&(h.Ob(0,"div",1),h.Ob(1,"div",2),h.Ob(2,"button",3),h.wc(3),h.Nb(),h.uc(4,w,4,2,"button",4),h.Nb(),h.Nb()),2&e){var i=h.Xb();h.xb(3),h.zc(" ",i.books[i.bibleBook-1]," : ",i.bibleChapters," "),h.xb(1),h.cc("ngForOf",i.resData.Verse)}}var O,N,E,x,P,C=((N=function(){function e(t,n,o){var a=this;i(this,e),this.bibleService=t,this.route=n,this.recent=o,this.bibleChapters=0,this.bibleBook=0,this.bibleVerse=[],this.books=["Genesis","Exodus","Leviticus","Numbers","Deuteronomy","Joshua","Judges","Ruth","1 Samuel","2 Samuel","1 Kings","2 Kings","1 Chronicles","2 Chronicles","Ezra","Nehemiah","Esther","Job","Psalm","Proverbs","Ecclesiastes","Song of Solomon","Isaiah","Jeremiah","Lamentations","Ezekiel","Daniel","Hosea","Joel","Amos","Obadiah","Jonah","Micah","Nahum","Habakkuk","Zephaniah","Haggai","Zechariah","Malachi","Matthew","Mark","Luke","John","Acts","Romans","1 Corinthians","2 Corinthians","Galatians","Ephesians","Philippians","Colossians","1 Thessalonians","2 Thessalonians","1 Timothy","2 Timothy","Titus","Philemon","Hebrews","James","1 Peter","2 Peter","1 John","2 John","3 John","Jude","Revelation"],this.route.params.subscribe((function(e){a.bibleBook=e.book,a.bibleChapters=e.chapter}))}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.bibleService.getBible().subscribe((function(t){e.resData=t.Book[e.bibleBook-1].Chapter[e.bibleChapters-1]})),this.recent.save({Book:this.bibleBook-1,Chapter:this.bibleChapters-1,Verse:0})}},{key:"addNew",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||N)(h.Jb(k),h.Jb(b.a),h.Jb(d))},N.\u0275cmp=h.Db({type:N,selectors:[["app-bible-book-chapter"]],decls:1,vars:1,consts:[["class","",4,"ngIf"],[1,""],[1,"list-group"],["type","button",1,"list-group-item","list-group-item-action","active"],["type","button","class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],["type","button",1,"list-group-item","list-group-item-action",3,"click"]],template:function(e,t){1&e&&h.uc(0,S,5,3,"div",0),2&e&&h.cc("ngIf",t.resData)},directives:[l.l,l.k],styles:[""]}),N),M=((O=function(){function e(t,n){var o=this;i(this,e),this.bibleService=t,this.route=n,this.bibleBook=0,this.route.params.subscribe((function(e){o.bibleBook=e.book}))}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.bibleService.getBible().subscribe((function(t){e.resData=t.Book[e.bibleBook]}))}}]),e}()).\u0275fac=function(e){return new(e||O)(h.Jb(k),h.Jb(b.a))},O.\u0275cmp=h.Db({type:O,selectors:[["app-bible-book"]],decls:4,vars:3,consts:[[1,""],[1,"alert","alert-primary",2,"font-family","Verdana, Geneva, Tahoma, sans-serif","font-size","large"]],template:function(e,t){1&e&&(h.Ob(0,"div",0),h.Ob(1,"div",1),h.wc(2),h.Yb(3,"json"),h.Nb(),h.Nb()),2&e&&(h.xb(2),h.yc(" ",h.Zb(3,1,t.resData)," "))},pipes:[l.f],styles:[""]}),O),L=a("2Vo4"),T=((E=function(){function t(){i(this,t),this._puppiesSource=new L.a([]),this.puppies$=this._puppiesSource.asObservable()}return o(t,[{key:"getPuppies",value:function(){return this._puppiesSource.getValue()}},{key:"_setPuppies",value:function(e){this._puppiesSource.next(e)}},{key:"addPuppy",value:function(t){var i=[].concat(e(this.getPuppies()),[t]);this._setPuppies(i)}},{key:"removePuppy",value:function(e){}},{key:"adoptPuppy",value:function(e){}}]),t}()).\u0275fac=function(e){return new(e||E)},E.\u0275prov=h.Fb({token:E,factory:E.\u0275fac,providedIn:"root"}),E),J=a("1liP"),I=a("HDdC"),B=((P=function(){function e(){i(this,e),this.data=[],this.permission=this.isSupported()?"default":"denied"}return o(e,[{key:"isSupported",value:function(){return"Notification"in window}},{key:"sendPushNotification",value:function(e,t){this.data=[],this.data.push({title:e,alertContent:t}),this.generateNotification(this.data)}},{key:"requestPermission",value:function(){var e=this;"Notification"in window&&Notification.requestPermission((function(t){return e.permission=t}))}},{key:"create",value:function(e,t){var i=this;return new I.a((function(n){"Notification"in window||(console.log("Notifications are not available in this environment"),n.complete()),"granted"!==i.permission&&(console.log("The user hasn't granted you permission to send push notifications"),n.complete());var o=new Notification(e,t);o.onshow=function(e){return n.next({notification:o,event:e})},o.onclick=function(e){return n.next({notification:o,event:e})},o.onerror=function(e){return n.error({notification:o,event:e})},o.onclose=function(){return n.complete()}}))}},{key:"generateNotification",value:function(e){var t=this;e.forEach((function(e){t.create(e.title,{body:e.alertContent}).subscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||P)},P.\u0275prov=h.Fb({token:P,factory:P.\u0275fac,providedIn:"root"}),P),V=((x=function(){function e(){var t=this;i(this,e),this.timeElapsed=new L.a("00:00"),this.timeRemaining=new L.a("-00:00"),this.percentElapsed=new L.a(0),this.percentLoaded=new L.a(0),this.playerStatus=new L.a("paused"),this.calculateTime=function(e){var i=t.audio.currentTime,n=t.audio.duration;t.setTimeElapsed(i),t.setPercentElapsed(n,i),t.setTimeRemaining(n,i)},this.calculatePercentLoaded=function(e){if(t.audio.duration>0)for(var i=0;i<t.audio.buffered.length;i++)if(t.audio.buffered.start(t.audio.buffered.length-1-i)<t.audio.currentTime){var n=t.audio.buffered.end(t.audio.buffered.length-1-i)/t.audio.duration*100;t.setPercentLoaded(n);break}},this.setPlayerStatus=function(e){switch(e.type){case"playing":t.playerStatus.next("playing");break;case"pause":t.playerStatus.next("paused");break;case"waiting":t.playerStatus.next("loading");break;case"ended":t.playerStatus.next("ended");break;default:t.playerStatus.next("paused")}},this.audio=new Audio,this.attachListeners()}return o(e,[{key:"attachListeners",value:function(){this.audio.addEventListener("timeupdate",this.calculateTime,!1),this.audio.addEventListener("playing",this.setPlayerStatus,!1),this.audio.addEventListener("pause",this.setPlayerStatus,!1),this.audio.addEventListener("progress",this.calculatePercentLoaded,!1),this.audio.addEventListener("waiting",this.setPlayerStatus,!1),this.audio.addEventListener("ended",this.setPlayerStatus,!1)}},{key:"getAudio",value:function(){return this.audio}},{key:"setAudio",value:function(e){this.audio.src=e,this.playAudio()}},{key:"playAudio",value:function(){this.audio.play()}},{key:"pauseAudio",value:function(){this.audio.pause()}},{key:"seekAudio",value:function(e){this.audio.currentTime=e}},{key:"setTimeElapsed",value:function(e){var t=Math.floor(e%60),i=t<10?"0"+t:t,n=Math.floor(e/60%60);this.timeElapsed.next((n<10?"0"+n:n)+":"+i)}},{key:"setTimeRemaining",value:function(e,t){var i,n=e-t,o=Math.floor(n%60)||0,a=o<10?"0"+o:o,r=Math.floor(n/60%60)||0,s=r<10?"0"+r:r,u=Math.floor(n/60/60%60)||0;i=0===u?"-"+s+":"+a:"-"+u+":"+s+":"+a,this.timeRemaining.next(i)}},{key:"setPercentElapsed",value:function(e,t){this.percentElapsed.next(Math.floor(100/e*t)||0)}},{key:"setPercentLoaded",value:function(e){this.percentLoaded.next(parseInt(e,10)||0)}},{key:"getPercentLoaded",value:function(){return this.percentLoaded.asObservable()}},{key:"getPercentElapsed",value:function(){return this.percentElapsed.asObservable()}},{key:"getTimeElapsed",value:function(){return this.timeElapsed.asObservable()}},{key:"getTimeRemaining",value:function(){return this.timeRemaining.asObservable()}},{key:"getPlayerStatus",value:function(){return this.playerStatus.asObservable()}},{key:"toggleAudio",value:function(){this.audio.paused?this.audio.play():this.audio.pause()}}]),e}()).\u0275fac=function(e){return new(e||x)},x.\u0275prov=h.Fb({token:x,factory:x.\u0275fac,providedIn:"root"}),x),A=a("K3ix"),D=a("wHSu"),F=a("3Pt+"),j=["form"];function R(e,t){if(1&e&&(h.Ob(0,"option",14),h.wc(1),h.Nb()),2&e){var i=t.$implicit;h.dc("value",t.index),h.xb(1),h.yc(" ",i," ")}}function X(e,t){if(1&e){var i=h.Pb();h.Ob(0,"button",20),h.Vb("click",(function(){h.nc(i);var e=t.index,n=h.Xb(2),o=h.lc(1);return n.onVerse(o,e)})),h.Ob(1,"b"),h.wc(2),h.Nb(),h.wc(3),h.Nb()}if(2&e){var n=t.$implicit,o=t.index;h.xb(2),h.yc("",o+1," : "),h.xb(1),h.yc("",n.Verse," ")}}function H(e,t){if(1&e&&(h.Ob(0,"div",15),h.Ob(1,"div",16),h.Ob(2,"button",17),h.Kb(3,"i",18),h.wc(4),h.Nb(),h.uc(5,X,4,2,"button",19),h.Nb(),h.Nb()),2&e){var i=h.Xb();h.xb(4),h.zc(" ",i.books[i.book-1]," : ",i.chapter," "),h.xb(1),h.cc("ngForOf",i.resData.Verse)}}function K(e,t){if(1&e&&(h.Ob(0,"div",35),h.wc(1),h.Nb()),2&e){var i=h.Xb(2);h.xb(1),h.yc(" ",i.newListEditor.error," ")}}function _(e,t){if(1&e&&(h.Ob(0,"div"),h.Ob(1,"pre"),h.wc(2),h.Yb(3,"json"),h.Nb(),h.Nb()),2&e){var i=h.Xb(2);h.xb(2),h.xc(h.Zb(3,1,i.newListEditor))}}var G=function(e){return{"is-invalid":e}};function z(e,t){if(1&e){var i=h.Pb();h.Ob(0,"div",21),h.Ob(1,"h4",22),h.wc(2,"New List"),h.Nb(),h.Ob(3,"button",23),h.Vb("click",(function(){return h.nc(i),h.Xb().newListCancelled()})),h.Ob(4,"span",24),h.wc(5,"\xd7"),h.Nb(),h.Nb(),h.Nb(),h.Ob(6,"div",25),h.Ob(7,"div",26),h.Ob(8,"label",27),h.wc(9,"Title"),h.Nb(),h.Ob(10,"input",28),h.Vb("ngModelChange",(function(e){return h.nc(i),h.Xb().newListEditor.title=e}))("keyup.enter",(function(){return h.nc(i),h.Xb().addList()})),h.Nb(),h.uc(11,K,2,1,"div",29),h.Nb(),h.uc(12,_,4,3,"div",30),h.Nb(),h.Ob(13,"div",31),h.Ob(14,"div",32),h.Ob(15,"button",33),h.Vb("click",(function(){return h.nc(i),h.Xb().newListCancelled()})),h.wc(16,"Cancel"),h.Nb(),h.Ob(17,"button",34),h.Vb("click",(function(){return h.nc(i),h.Xb().addList()})),h.wc(18,"Create"),h.Nb(),h.Nb(),h.Nb()}if(2&e){var n=h.Xb();h.xb(10),h.cc("ngModel",n.newListEditor.title)("ngClass",h.fc(4,G,n.newListEditor.error)),h.xb(1),h.cc("ngIf",n.newListEditor.error),h.xb(1),h.cc("ngIf",n.debug)}}var Z,$,q,U=[{path:"",component:(Z=function(){function e(t,n,o,a,r,s){i(this,e),this.bibleService=t,this.bibleStoreService=n,this.notificationService=o,this.pushNotificationsService=a,this.audioService=r,this.modalService=s,this.faBookOpen=D.a,this.book=0,this.chapter=0,this.verses=0,this.books=["Genesis","Exodus","Leviticus","Numbers","Deuteronomy","Joshua","Judges","Ruth","1 Samuel","2 Samuel","1 Kings","2 Kings","1 Chronicles","2 Chronicles","Ezra","Nehemiah","Esther","Job","Psalm","Proverbs","Ecclesiastes","Song of Solomon","Isaiah","Jeremiah","Lamentations","Ezekiel","Daniel","Hosea","Joel","Amos","Obadiah","Jonah","Micah","Nahum","Habakkuk","Zephaniah","Haggai","Zechariah","Malachi","Matthew","Mark","Luke","John","Acts","Romans","1 Corinthians","2 Corinthians","Galatians","Ephesians","Philippians","Colossians","1 Thessalonians","2 Thessalonians","1 Timothy","2 Timothy","Titus","Philemon","Hebrews","James","1 Peter","2 Peter","1 John","2 John","3 John","Jude","Revelation"],this.pushNotificationsService.requestPermission()}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.audioService.playerStatus.subscribe((function(t){e.playerStatus=t})),this.bibleService.getBible().subscribe((function(t){e.data=t,e.onChangeEvent(e.form)}))}},{key:"randomIntFromInterval",value:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}},{key:"onSubmit",value:function(e){this.onChangeEvent(e)}},{key:"onChangeEvent",value:function(e){var t;this.bibleStoreService.addPuppy(e.value),this.book=+e.value.Book+1,this.chapter=e.value.Chapter,this.audioService.setAudio("http://sajeevavahini.com/audiobible/".concat(this.book,"/").concat(this.chapter,".mp3")),this.resData=null===(t=this.data.Book[e.value.Book])||void 0===t?void 0:t.Chapter[e.value.Chapter-1]}},{key:"onPlayer",value:function(){this.audioService.toggleAudio()}},{key:"onVerse",value:function(e,t){console.log(e.value,t)}},{key:"showNewListModal",value:function(e){this.newListModalRef=this.modalService.show(e),setTimeout((function(){return document.getElementById("title").focus()}),250)}}]),e}(),Z.\u0275fac=function(e){return new(e||Z)(h.Jb(k),h.Jb(T),h.Jb(J.a),h.Jb(B),h.Jb(V),h.Jb(A.a))},Z.\u0275cmp=h.Db({type:Z,selectors:[["app-bible"]],viewQuery:function(e,t){var i;1&e&&h.Bc(j,!0),2&e&&h.kc(i=h.Wb())&&(t.form=i.first)},decls:21,vars:7,consts:[[3,"ngSubmit"],["form","ngForm"],[1,"row"],[1,"col"],["name","Book","ngModel","",1,"form-control",3,"ngModel","change"],["Book","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","number","placeholder","Chapter","name","Chapter","min","1","max","66","ngModel","",1,"form-control",3,"ngModel","change"],["Chapter","ngModel"],[1,"col-12"],[1,"btn","btn-outline-primary","btn-block",3,"click"],[1,"fa","fa-play"],["class","",4,"ngIf"],["newListModalTemplate",""],[3,"value"],[1,""],[1,"list-group"],["type","button","popover","I will hide on blur","triggers","mouseenter:mouseleave",1,"list-group-item","list-group-item-action","active"],[1,"fa","fa-book"],["type","button","class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],["type","button",1,"list-group-item","list-group-item-action",3,"click"],[1,"modal-header","clearfix"],[1,"modal-title","float-left"],["type","button","aria-label","Close",1,"close","float-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],["for","title"],["type","text","id","title","placeholder","List title...",1,"form-control",3,"ngModel","ngClass","ngModelChange","keyup.enter"],["class","invalid-feedback",4,"ngIf"],[4,"ngIf"],[1,"modal-footer"],[1,"text-right"],[1,"btn","btn-default",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"invalid-feedback"]],template:function(e,t){if(1&e){var i=h.Pb();h.Ob(0,"form",0,1),h.Vb("ngSubmit",(function(){h.nc(i);var e=h.lc(1);return t.onSubmit(e)})),h.Ob(2,"div",2),h.Ob(3,"div",3),h.Ob(4,"select",4,5),h.Vb("change",(function(){h.nc(i);var e=h.lc(1);return t.onChangeEvent(e)})),h.uc(6,R,2,2,"option",6),h.Nb(),h.Nb(),h.Ob(7,"div",3),h.Ob(8,"input",7,8),h.Vb("change",(function(){h.nc(i);var e=h.lc(1);return t.onChangeEvent(e)})),h.Nb(),h.Nb(),h.Nb(),h.Kb(10,"br"),h.Nb(),h.Ob(11,"div",2),h.Ob(12,"div",9),h.Ob(13,"button",10),h.Vb("click",(function(){return t.onPlayer()})),h.Kb(14,"i",11),h.wc(15),h.Nb(),h.Nb(),h.Nb(),h.Kb(16,"br"),h.uc(17,H,6,3,"div",12),h.Kb(18,"br"),h.uc(19,z,19,6,"ng-template",null,13,h.vc)}2&e&&(h.xb(4),h.cc("ngModel",0),h.xb(2),h.cc("ngForOf",t.books),h.xb(2),h.cc("ngModel",1),h.xb(7),h.Ac(" ",t.playerStatus," ",t.books[t.book-1]," : ",t.chapter,""),h.xb(2),h.cc("ngIf",t.resData))},directives:[F.o,F.h,F.i,F.m,F.g,F.j,l.k,F.l,F.b,l.l,F.k,F.n,l.j],pipes:[l.f],styles:[""]}),Z)},{path:":book",component:M},{path:":book/:chapter",component:C}],Y=((q=function e(){i(this,e)}).\u0275mod=h.Hb({type:q}),q.\u0275inj=h.Gb({factory:function(e){return new(e||q)},imports:[[b.e.forChild(U)],b.e]}),q),Q=(($=function e(){i(this,e)}).\u0275mod=h.Hb({type:$}),$.\u0275inj=h.Gb({factory:function(e){return new(e||$)},imports:[[l.c,F.c,Y]]}),$)}}])}();